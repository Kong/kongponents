import{d as Z,_ as ae,r as Ge,o as m,A as G,w as B,v as O,e as le,f as F,t as L,a as y,M as ge,s as T,p as I,I as be,q as S,N as ye,T as Xe,C as oe,B as Je,K as Ze,l as D,c as k,G as A,k as Te,u as we,E as Qe,i as Ee,m as _e,D as et}from"./index-d7edae6d.js";import"./KMethodBadge.vue_vue_type_style_index_0_scoped_7163314d_lang-f7cf77a3.js";import{r as tt,a as rt,v as Se,u as Ie}from"./useUtilities-efbdde2e.js";import{c as ot,l as it,j as nt,K as st}from"./KButton-a4a69627.js";const at=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oe={randomUUID:at};function lt(e,t,r){if(Oe.randomUUID&&!t&&!e)return Oe.randomUUID();e=e||{};const o=e.random||(e.rng||tt)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=o[i];return t}return rt(o)}/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var q=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",ft=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(q&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function ut(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function pt(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},ft))}}var dt=q&&window.Promise,ct=dt?ut:pt;function Be(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function N(e,t){if(e.nodeType!==1)return[];var r=e.ownerDocument.defaultView,o=r.getComputedStyle(e,null);return t?o[t]:o}function fe(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function j(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=N(e),r=t.overflow,o=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+o)?e:j(fe(e))}function Me(e){return e&&e.referenceNode?e.referenceNode:e}var ke=q&&!!(window.MSInputMethodContext&&document.documentMode),$e=q&&/MSIE 10/.test(navigator.userAgent);function H(e){return e===11?ke:e===10?$e:ke||$e}function W(e){if(!e)return document.documentElement;for(var t=H(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var o=r&&r.nodeName;return!o||o==="BODY"||o==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&N(r,"position")==="static"?W(r):r}function ht(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||W(e.firstElementChild)===e}function ie(e){return e.parentNode!==null?ie(e.parentNode):e}function X(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=r?e:t,i=r?t:e,n=document.createRange();n.setStart(o,0),n.setEnd(i,0);var s=n.commonAncestorContainer;if(e!==s&&t!==s||o.contains(i))return ht(s)?s:W(s);var a=ie(e);return a.host?X(a.host,t):X(e,ie(t).host)}function R(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=t==="top"?"scrollTop":"scrollLeft",o=e.nodeName;if(o==="BODY"||o==="HTML"){var i=e.ownerDocument.documentElement,n=e.ownerDocument.scrollingElement||i;return n[r]}return e[r]}function vt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=R(t,"top"),i=R(t,"left"),n=r?-1:1;return e.top+=o*n,e.bottom+=o*n,e.left+=i*n,e.right+=i*n,e}function Pe(e,t){var r=t==="x"?"Left":"Top",o=r==="Left"?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+o+"Width"])}function Le(e,t,r,o){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],H(10)?parseInt(r["offset"+e])+parseInt(o["margin"+(e==="Height"?"Top":"Left")])+parseInt(o["margin"+(e==="Height"?"Bottom":"Right")]):0)}function xe(e){var t=e.body,r=e.documentElement,o=H(10)&&getComputedStyle(r);return{height:Le("Height",t,r,o),width:Le("Width",t,r,o)}}var mt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},gt=function(){function e(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),V=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function M(e){return $({},e,{right:e.left+e.width,bottom:e.top+e.height})}function ne(e){var t={};try{if(H(10)){t=e.getBoundingClientRect();var r=R(e,"top"),o=R(e,"left");t.top+=r,t.left+=o,t.bottom+=r,t.right+=o}else t=e.getBoundingClientRect()}catch{}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},n=e.nodeName==="HTML"?xe(e.ownerDocument):{},s=n.width||e.clientWidth||i.width,a=n.height||e.clientHeight||i.height,l=e.offsetWidth-s,p=e.offsetHeight-a;if(l||p){var f=N(e);l-=Pe(f,"x"),p-=Pe(f,"y"),i.width-=l,i.height-=p}return M(i)}function ue(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=H(10),i=t.nodeName==="HTML",n=ne(e),s=ne(t),a=j(e),l=N(t),p=parseFloat(l.borderTopWidth),f=parseFloat(l.borderLeftWidth);r&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var u=M({top:n.top-s.top-p,left:n.left-s.left-f,width:n.width,height:n.height});if(u.marginTop=0,u.marginLeft=0,!o&&i){var h=parseFloat(l.marginTop),d=parseFloat(l.marginLeft);u.top-=p-h,u.bottom-=p-h,u.left-=f-d,u.right-=f-d,u.marginTop=h,u.marginLeft=d}return(o&&!r?t.contains(a):t===a&&a.nodeName!=="BODY")&&(u=vt(u,t)),u}function bt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.ownerDocument.documentElement,o=ue(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),n=Math.max(r.clientHeight,window.innerHeight||0),s=t?0:R(r),a=t?0:R(r,"left"),l={top:s-o.top+o.marginTop,left:a-o.left+o.marginLeft,width:i,height:n};return M(l)}function Ae(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(N(e,"position")==="fixed")return!0;var r=fe(e);return r?Ae(r):!1}function Ne(e){if(!e||!e.parentElement||H())return document.documentElement;for(var t=e.parentElement;t&&N(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function pe(e,t,r,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,n={top:0,left:0},s=i?Ne(e):X(e,Me(t));if(o==="viewport")n=bt(s,i);else{var a=void 0;o==="scrollParent"?(a=j(fe(t)),a.nodeName==="BODY"&&(a=e.ownerDocument.documentElement)):o==="window"?a=e.ownerDocument.documentElement:a=o;var l=ue(a,s,i);if(a.nodeName==="HTML"&&!Ae(s)){var p=xe(e.ownerDocument),f=p.height,u=p.width;n.top+=l.top-l.marginTop,n.bottom=f+l.top,n.left+=l.left-l.marginLeft,n.right=u+l.left}else n=l}r=r||0;var h=typeof r=="number";return n.left+=h?r:r.left||0,n.top+=h?r:r.top||0,n.right-=h?r:r.right||0,n.bottom-=h?r:r.bottom||0,n}function yt(e){var t=e.width,r=e.height;return t*r}function De(e,t,r,o,i){var n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var s=pe(r,o,n,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(h){return $({key:h},a[h],{area:yt(a[h])})}).sort(function(h,d){return d.area-h.area}),p=l.filter(function(h){var d=h.width,c=h.height;return d>=r.clientWidth&&c>=r.clientHeight}),f=p.length>0?p[0].key:l[0].key,u=e.split("-")[1];return f+(u?"-"+u:"")}function Fe(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=o?Ne(t):X(t,Me(r));return ue(r,i,o)}function We(e){var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e),o=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),i=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),n={width:e.offsetWidth+i,height:e.offsetHeight+o};return n}function J(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(r){return t[r]})}function Re(e,t,r){r=r.split("-")[0];var o=We(e),i={width:o.width,height:o.height},n=["right","left"].indexOf(r)!==-1,s=n?"top":"left",a=n?"left":"top",l=n?"height":"width",p=n?"width":"height";return i[s]=t[s]+t[l]/2-o[l]/2,r===a?i[a]=t[a]-o[p]:i[a]=t[J(a)],i}function Y(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function wt(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[t]===r});var o=Y(e,function(i){return i[t]===r});return e.indexOf(o)}function Ve(e,t,r){var o=r===void 0?e:e.slice(0,wt(e,"name",r));return o.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=i.function||i.fn;i.enabled&&Be(n)&&(t.offsets.popper=M(t.offsets.popper),t.offsets.reference=M(t.offsets.reference),t=n(t,i))}),t}function Et(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Fe(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=De(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Re(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ve(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function He(e,t){return e.some(function(r){var o=r.name,i=r.enabled;return i&&o===t})}function de(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var i=t[o],n=i?""+i+r:e;if(typeof document.body.style[n]<"u")return n}return null}function St(){return this.state.isDestroyed=!0,He(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[de("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Ke(e){var t=e.ownerDocument;return t?t.defaultView:window}function Ue(e,t,r,o){var i=e.nodeName==="BODY",n=i?e.ownerDocument.defaultView:e;n.addEventListener(t,r,{passive:!0}),i||Ue(j(n.parentNode),t,r,o),o.push(n)}function Ot(e,t,r,o){r.updateBound=o,Ke(e).addEventListener("resize",r.updateBound,{passive:!0});var i=j(e);return Ue(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function kt(){this.state.eventsEnabled||(this.state=Ot(this.reference,this.options,this.state,this.scheduleUpdate))}function $t(e,t){return Ke(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(r){r.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function Pt(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=$t(this.reference,this.state))}function ce(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function se(e,t){Object.keys(t).forEach(function(r){var o="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&ce(t[r])&&(o="px"),e.style[r]=t[r]+o})}function Lt(e,t){Object.keys(t).forEach(function(r){var o=t[r];o!==!1?e.setAttribute(r,t[r]):e.removeAttribute(r)})}function Ct(e){return se(e.instance.popper,e.styles),Lt(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&se(e.arrowElement,e.arrowStyles),e}function Tt(e,t,r,o,i){var n=Fe(i,t,e,r.positionFixed),s=De(r.placement,n,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",s),se(t,{position:r.positionFixed?"fixed":"absolute"}),r}function It(e,t){var r=e.offsets,o=r.popper,i=r.reference,n=Math.round,s=Math.floor,a=function(C){return C},l=n(i.width),p=n(o.width),f=["left","right"].indexOf(e.placement)!==-1,u=e.placement.indexOf("-")!==-1,h=l%2===p%2,d=l%2===1&&p%2===1,c=t?f||u||h?n:s:a,g=t?n:a;return{left:c(d&&!u&&t?o.left-1:o.left),top:g(o.top),bottom:g(o.bottom),right:c(o.right)}}var Bt=q&&/Firefox/i.test(navigator.userAgent);function Mt(e,t){var r=t.x,o=t.y,i=e.offsets.popper,n=Y(e.instance.modifiers,function(w){return w.name==="applyStyle"}).gpuAcceleration;n!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=n!==void 0?n:t.gpuAcceleration,a=W(e.instance.popper),l=ne(a),p={position:i.position},f=It(e,window.devicePixelRatio<2||!Bt),u=r==="bottom"?"top":"bottom",h=o==="right"?"left":"right",d=de("transform"),c=void 0,g=void 0;if(u==="bottom"?a.nodeName==="HTML"?g=-a.clientHeight+f.bottom:g=-l.height+f.bottom:g=f.top,h==="right"?a.nodeName==="HTML"?c=-a.clientWidth+f.right:c=-l.width+f.right:c=f.left,s&&d)p[d]="translate3d("+c+"px, "+g+"px, 0)",p[u]=0,p[h]=0,p.willChange="transform";else{var P=u==="bottom"?-1:1,C=h==="right"?-1:1;p[u]=g*P,p[h]=c*C,p.willChange=u+", "+h}var E={"x-placement":e.placement};return e.attributes=$({},E,e.attributes),e.styles=$({},p,e.styles),e.arrowStyles=$({},e.offsets.arrow,e.arrowStyles),e}function ze(e,t,r){var o=Y(e,function(a){var l=a.name;return l===t}),i=!!o&&e.some(function(a){return a.name===r&&a.enabled&&a.order<o.order});if(!i){var n="`"+t+"`",s="`"+r+"`";console.warn(s+" modifier is required by "+n+" modifier in order to work, be sure to include it before "+n+"!")}return i}function xt(e,t){var r;if(!ze(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if(typeof o=="string"){if(o=e.instance.popper.querySelector(o),!o)return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],n=e.offsets,s=n.popper,a=n.reference,l=["left","right"].indexOf(i)!==-1,p=l?"height":"width",f=l?"Top":"Left",u=f.toLowerCase(),h=l?"left":"top",d=l?"bottom":"right",c=We(o)[p];a[d]-c<s[u]&&(e.offsets.popper[u]-=s[u]-(a[d]-c)),a[u]+c>s[d]&&(e.offsets.popper[u]+=a[u]+c-s[d]),e.offsets.popper=M(e.offsets.popper);var g=a[u]+a[p]/2-c/2,P=N(e.instance.popper),C=parseFloat(P["margin"+f]),E=parseFloat(P["border"+f+"Width"]),w=g-e.offsets.popper[u]-C-E;return w=Math.max(Math.min(s[p]-c,w),0),e.arrowElement=o,e.offsets.arrow=(r={},V(r,u,Math.round(w)),V(r,h,""),r),e}function At(e){return e==="end"?"start":e==="start"?"end":e}var qe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=qe.slice(3);function Ce(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=ee.indexOf(e),o=ee.slice(r+1).concat(ee.slice(0,r));return t?o.reverse():o}var te={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Nt(e,t){if(He(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var r=pe(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],i=J(o),n=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case te.FLIP:s=[o,i];break;case te.CLOCKWISE:s=Ce(o);break;case te.COUNTERCLOCKWISE:s=Ce(o,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(o!==a||s.length===l+1)return e;o=e.placement.split("-")[0],i=J(o);var p=e.offsets.popper,f=e.offsets.reference,u=Math.floor,h=o==="left"&&u(p.right)>u(f.left)||o==="right"&&u(p.left)<u(f.right)||o==="top"&&u(p.bottom)>u(f.top)||o==="bottom"&&u(p.top)<u(f.bottom),d=u(p.left)<u(r.left),c=u(p.right)>u(r.right),g=u(p.top)<u(r.top),P=u(p.bottom)>u(r.bottom),C=o==="left"&&d||o==="right"&&c||o==="top"&&g||o==="bottom"&&P,E=["top","bottom"].indexOf(o)!==-1,w=!!t.flipVariations&&(E&&n==="start"&&d||E&&n==="end"&&c||!E&&n==="start"&&g||!E&&n==="end"&&P),K=!!t.flipVariationsByContent&&(E&&n==="start"&&c||E&&n==="end"&&d||!E&&n==="start"&&P||!E&&n==="end"&&g),x=w||K;(h||C||x)&&(e.flipped=!0,(h||C)&&(o=s[l+1]),x&&(n=At(n)),e.placement=o+(n?"-"+n:""),e.offsets.popper=$({},e.offsets.popper,Re(e.instance.popper,e.offsets.reference,e.placement)),e=Ve(e.instance.modifiers,e,"flip"))}),e}function Dt(e){var t=e.offsets,r=t.popper,o=t.reference,i=e.placement.split("-")[0],n=Math.floor,s=["top","bottom"].indexOf(i)!==-1,a=s?"right":"bottom",l=s?"left":"top",p=s?"width":"height";return r[a]<n(o[l])&&(e.offsets.popper[l]=n(o[l])-r[p]),r[l]>n(o[a])&&(e.offsets.popper[l]=n(o[a])),e}function Ft(e,t,r,o){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),n=+i[1],s=i[2];if(!n)return e;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=r;break;case"%":case"%r":default:a=o}var l=M(a);return l[t]/100*n}else if(s==="vh"||s==="vw"){var p=void 0;return s==="vh"?p=Math.max(document.documentElement.clientHeight,window.innerHeight||0):p=Math.max(document.documentElement.clientWidth,window.innerWidth||0),p/100*n}else return n}function Wt(e,t,r,o){var i=[0,0],n=["right","left"].indexOf(o)!==-1,s=e.split(/(\+|\-)/).map(function(f){return f.trim()}),a=s.indexOf(Y(s,function(f){return f.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,p=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return p=p.map(function(f,u){var h=(u===1?!n:n)?"height":"width",d=!1;return f.reduce(function(c,g){return c[c.length-1]===""&&["+","-"].indexOf(g)!==-1?(c[c.length-1]=g,d=!0,c):d?(c[c.length-1]+=g,d=!1,c):c.concat(g)},[]).map(function(c){return Ft(c,h,t,r)})}),p.forEach(function(f,u){f.forEach(function(h,d){ce(h)&&(i[u]+=h*(f[d-1]==="-"?-1:1))})}),i}function Rt(e,t){var r=t.offset,o=e.placement,i=e.offsets,n=i.popper,s=i.reference,a=o.split("-")[0],l=void 0;return ce(+r)?l=[+r,0]:l=Wt(r,n,s,a),a==="left"?(n.top+=l[0],n.left-=l[1]):a==="right"?(n.top+=l[0],n.left+=l[1]):a==="top"?(n.left+=l[0],n.top-=l[1]):a==="bottom"&&(n.left+=l[0],n.top+=l[1]),e.popper=n,e}function Vt(e,t){var r=t.boundariesElement||W(e.instance.popper);e.instance.reference===r&&(r=W(r));var o=de("transform"),i=e.instance.popper.style,n=i.top,s=i.left,a=i[o];i.top="",i.left="",i[o]="";var l=pe(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=n,i.left=s,i[o]=a,t.boundaries=l;var p=t.priority,f=e.offsets.popper,u={primary:function(d){var c=f[d];return f[d]<l[d]&&!t.escapeWithReference&&(c=Math.max(f[d],l[d])),V({},d,c)},secondary:function(d){var c=d==="right"?"left":"top",g=f[c];return f[d]>l[d]&&!t.escapeWithReference&&(g=Math.min(f[c],l[d]-(d==="right"?f.width:f.height))),V({},c,g)}};return p.forEach(function(h){var d=["left","top"].indexOf(h)!==-1?"primary":"secondary";f=$({},f,u[d](h))}),e.offsets.popper=f,e}function Ht(e){var t=e.placement,r=t.split("-")[0],o=t.split("-")[1];if(o){var i=e.offsets,n=i.reference,s=i.popper,a=["bottom","top"].indexOf(r)!==-1,l=a?"left":"top",p=a?"width":"height",f={start:V({},l,n[l]),end:V({},l,n[l]+n[p]-s[p])};e.offsets.popper=$({},s,f[o])}return e}function Kt(e){if(!ze(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=Y(e.instance.modifiers,function(o){return o.name==="preventOverflow"}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Ut(e){var t=e.placement,r=t.split("-")[0],o=e.offsets,i=o.popper,n=o.reference,s=["left","right"].indexOf(r)!==-1,a=["top","left"].indexOf(r)===-1;return i[s?"left":"top"]=n[r]-(a?i[s?"width":"height"]:0),e.placement=J(t),e.offsets.popper=M(i),e}var zt={shift:{order:100,enabled:!0,fn:Ht},offset:{order:200,enabled:!0,fn:Rt,offset:0},preventOverflow:{order:300,enabled:!0,fn:Vt,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Dt},arrow:{order:500,enabled:!0,fn:xt,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Nt,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Ut},hide:{order:800,enabled:!0,fn:Kt},computeStyle:{order:850,enabled:!0,fn:Mt,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Ct,onLoad:Tt,gpuAcceleration:void 0}},qt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:zt},Q=function(){function e(t,r){var o=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};mt(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=ct(this.update.bind(this)),this.options=$({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys($({},e.Defaults.modifiers,i.modifiers)).forEach(function(s){o.options.modifiers[s]=$({},e.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return $({name:s},o.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&Be(s.onLoad)&&s.onLoad(o.reference,o.popper,o.options,s,o.state)}),this.update();var n=this.options.eventsEnabled;n&&this.enableEventListeners(),this.state.eventsEnabled=n}return gt(e,[{key:"update",value:function(){return Et.call(this)}},{key:"destroy",value:function(){return St.call(this)}},{key:"enableEventListeners",value:function(){return kt.call(this)}},{key:"disableEventListeners",value:function(){return Pt.call(this)}}]),e}();Q.Utils=(typeof window<"u"?window:global).PopperUtils;Q.placements=qe;Q.Defaults=qt;const jt=Q,Yt=["small","medium","large"],Gt=["start","end"],Xt=["click","hover"],je=["auto","top","topStart","topEnd","left","leftStart","leftEnd","right","rightStart","rightEnd","bottom","bottomStart","bottomEnd"],{getSizeFromString:re}=Ie(),Jt=Z({name:"KPop",components:{KButton:ot},expose:["updatePopper"],props:{target:{type:String,default:""},tag:{type:String,default:"div"},buttonText:{type:String,default:"OK"},title:{type:String,default:""},placement:{type:String,validator:e=>je.includes(e),default:"auto"},trigger:{type:String,default:"click",validator:e=>Xt.includes(e)},width:{type:String,default:"200"},maxWidth:{type:String,default:"auto"},maxHeight:{type:String,default:"auto"},popoverClasses:{type:String,default:""},popoverTransitions:{type:String,default:"fade"},popoverTimeout:{type:Number,default:300},hidePopover:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isSvg:{type:Boolean,default:!1},hideCaret:{type:Boolean,default:!1},onPopoverClick:{type:Function,default:null},positionFixed:{type:Boolean,default:!1},testMode:{type:Boolean,default:!1}},emits:["opened","closed"],data(){return{popper:null,reference:null,isOpen:!1,popoverId:this.testMode?"test-popover-id-1234":Se(),targetId:this.testMode?"test-target-id-1234":Se()}},computed:{popoverStyle:function(){return{width:re(this.width),maxWidth:re(this.maxWidth),maxHeight:re(this.maxHeight)}},popoverClassObj:function(){return[this.popoverClasses,{"hide-caret":this.hideCaret},{"has-actions":this.$slots.actions}]}},watch:{hidePopover:function(){this.isOpen&&this.hidePopper()},disabled:{handler(){this.isOpen&&this.hidePopper()},immediate:!0}},mounted(){this.$el.children?this.reference=this.$el.children[0]:this.reference=this.$el,this.bindEvents()},beforeUnmount(){const e=this.$refs.popper;document.documentElement.removeEventListener("click",this.handleClick),e&&e.removeEventListener("click",this.showPopper),this.reference&&(this.reference.removeEventListener("click",this.handleClick),this.reference.removeEventListener("mouseenter",this.createInstance),this.reference.removeEventListener("mouseleave",this.toggle),this.reference.removeEventListener("focus",this.createInstance),this.reference.removeEventListener("blur",this.toggle)),this.destroy()},methods:{hidePopper(){this.trigger!=="hover"&&(this.isOpen=!1),this.timer=setTimeout(()=>{this.$emit("closed"),this.destroy()},this.popoverTimeout)},showPopper(){this.disabled||(this.isOpen=!0,this.timer&&clearTimeout(this.timer),this.popperTimer&&clearTimeout(this.popperTimer),this.$emit("opened"))},updatePopper(){this.popper&&typeof this.popper.update=="function"&&this.popper.update()},async createInstance(){this.destroy(),this.showPopper();const e=(this.placement||"auto").replace(/[A-Z]/g,"-$&").toLowerCase(),t=this.$refs.popper,r=this.target&&!this.isSvg&&document.querySelector(this.target)?document.querySelector(this.target):document.getElementById(this.targetId);r&&(r.appendChild(t),r.style.overflow="auto"),await this.$nextTick(),this.popper=new jt(this.reference,t,{placement:e,positionFixed:this.positionFixed,modifiers:{preventOverflow:{enabled:!0,boundariesElement:"viewport"}}}),await this.$nextTick(),r&&r.style.removeProperty("overflow"),this.updatePopper()},handleClick(e){const t=()=>{e.stopPropagation(),this.hidePopper()};if(this.reference&&this.reference.contains(e.target))this.isOpen?t():this.createInstance();else if(this.$refs.popper&&this.$refs.popper.contains(e.target)&&this.onPopoverClick){const r=this.onPopoverClick();r!==void 0&&(r?this.showPopper():t())}else this.$refs.popper&&this.$refs.popper.contains(e.target)?this.showPopper():this.isOpen&&t()},bindEvents(){const e=this.$refs.popper;e&&(this.trigger==="hover"&&(this.reference.addEventListener("mouseenter",this.createInstance),this.reference.addEventListener("focus",this.createInstance),this.reference.addEventListener("mouseleave",this.hidePopper),this.reference.addEventListener("blur",this.hidePopper),e.addEventListener("mouseenter",this.showPopper),e.addEventListener("focus",this.showPopper),e.addEventListener("mouseleave",this.hidePopper),e.addEventListener("blur",this.hidePopper)),e.addEventListener("click",this.showPopper),document.documentElement.addEventListener("click",this.handleClick))},destroy(){this.popper&&(this.isOpen=!1,this.popper.disableEventListeners(),this.popper=null)}}}),Zt={key:0},Qt=["id"],_t={key:0,class:"k-popover-header"},er={key:0,class:"k-popover-title"},tr={key:1,class:"k-popover-actions"},rr={class:"k-popover-content"},or={key:1,class:"k-popover-footer"},ir=["id"],nr={key:0,class:"k-popover-header"},sr={key:0,class:"k-popover-title"},ar={key:1,class:"k-popover-actions"},lr={class:"k-popover-content"},fr={key:1,class:"k-popover-footer"};function ur(e,t,r,o,i,n){const s=Ge("KButton");return m(),G(Ze(e.tag),{id:e.$slots.default?e.targetId:null,ref:"root","aria-controls":e.$slots.default?e.popoverId:void 0,"aria-expanded":e.$slots.default&&!!e.isOpen||void 0,role:e.$slots.default?"button":null,onKeyup:[oe(Je(e.showPopper,["stop","prevent"]),["enter"]),oe(e.hidePopper,["esc"])]},{default:B(()=>[O(e.$slots,"default",{},()=>[le(s,{id:e.targetId,"aria-controls":e.popoverId||void 0,"aria-expanded":!!e.isOpen||void 0,"data-testid":"kpop-button"},{default:B(()=>[F(L(e.buttonText),1)]),_:1},8,["id","aria-controls","aria-expanded"])]),e.isSvg?(m(),y("div",Zt,[(m(),y("foreignObject",null,[ge(T("div",{id:e.popoverId,ref:"popper",class:I(["k-popover",e.popoverClassObj]),role:"region",style:be(e.popoverStyle)},[e.$slots.title||e.title||e.$slots.actions?(m(),y("div",_t,[e.$slots.title||e.title?(m(),y("div",er,[O(e.$slots,"title",{},()=>[F(L(e.title),1)])])):S("",!0),e.$slots.actions?(m(),y("div",tr,[O(e.$slots,"actions")])):S("",!0)])):S("",!0),T("div",rr,[O(e.$slots,"content")]),e.$slots.footer?(m(),y("div",or,[O(e.$slots,"footer")])):S("",!0)],14,Qt),[[ye,e.isOpen]])]))])):(m(),G(Xe,{key:1,name:"fade"},{default:B(()=>[ge(T("div",{id:e.popoverId,ref:"popper",class:I(["k-popover",e.popoverClassObj]),role:"region",style:be(e.popoverStyle)},[e.$slots.title||e.title||e.$slots.actions?(m(),y("div",nr,[e.$slots.title||e.title?(m(),y("div",sr,[O(e.$slots,"title",{},()=>[F(L(e.title),1)])])):S("",!0),e.$slots.actions?(m(),y("div",ar,[O(e.$slots,"actions")])):S("",!0)])):S("",!0),T("div",lr,[O(e.$slots,"content")]),e.$slots.footer?(m(),y("div",fr,[O(e.$slots,"footer")])):S("",!0)],14,ir),[[ye,e.isOpen]])]),_:3}))]),_:3},40,["id","aria-controls","aria-expanded","role","onKeyup"])}const pr=ae(Jt,[["render",ur]]),dr={role:"tooltip"},cr=Z({__name:"KTooltip",props:{label:{type:String,required:!1,default:""},placement:{type:String,default:"bottom",validator:e=>je.includes(e)},positionFixed:{type:Boolean,default:!1},maxWidth:{type:String,default:"auto"},testMode:{type:Boolean,default:!1}},setup(e){const t=e,r=D(""),o=k(()=>{let i="";switch(t.placement){case"top":i="k-tooltip-top";break;case"right":i="k-tooltip-right";break;case"bottom":i="k-tooltip-bottom";break;case"left":i="k-tooltip-left";break}return i});return(i,n)=>(m(),G(pr,A(i.$attrs,{"hide-caret":"","max-width":e.maxWidth,placement:e.placement,"popover-classes":`k-tooltip ${o.value} ${r.value}`,"popover-timeout":0,"position-fixed":e.positionFixed,"test-mode":!!e.testMode||void 0,trigger:"hover",width:"auto"}),{content:B(()=>[T("div",dr,[O(i.$slots,"content",{label:e.label},()=>[F(L(e.label),1)])])]),default:B(()=>[O(i.$slots,"default")]),_:3},16,["max-width","placement","popover-classes","position-fixed","test-mode"]))}}),hr={class:"k-input-label"},vr={key:0,class:"is-required"},mr=Z({__name:"KLabel",props:{help:{type:String,default:""},info:{type:String,default:""},required:{type:Boolean,default:!1},tooltipAttributes:{type:Object,default:()=>({})},testMode:{type:Boolean,default:!1}},setup(e){const t=e,r=Te(),o=k(()=>!!(t.info||t.help||r.tooltip));return(i,n)=>(m(),y("label",hr,[O(i.$slots,"default",{},void 0,!0),e.required?(m(),y("span",vr,"*")):S("",!0),o.value?(m(),G(cr,A({key:1},e.tooltipAttributes,{class:"label-tooltip","position-fixed":"","test-mode":!!e.testMode||void 0}),{content:B(()=>[O(i.$slots,"tooltip",{},()=>[F(L(e.help||e.info),1)],!0)]),default:B(()=>[le(st,{color:`var(--kui-color-text-neutral-weak, ${we(it)})`,"hide-title":"",icon:e.help?"help":"infoFilled",size:we(nt)},null,8,["color","icon","size"])]),_:3},16,["test-mode"])):S("",!0)]))}}),gr=ae(mr,[["__scopeId","data-v-9e5467f0"]]),br={class:"text-on-input"},yr=["for"],wr={key:0,class:"is-required"},Er=["id","aria-invalid","value"],Sr=["id","aria-invalid","value"],Or=["aria-invalid","value"],kr={key:4,class:"help"},$r=["tabindex","onKeyup"],Pr={inheritAttrs:!1},Lr=Z({...Pr,__name:"KInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},overlayLabel:{type:Boolean,default:!1},labelAttributes:{type:Object,default:()=>({})},help:{type:String,default:""},size:{type:String,default:"medium",validator:e=>Yt.includes(e)},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""},characterLimit:{type:Number,default:null,validator:e=>e>0},iconPosition:{type:String,default:"start",validator:e=>Gt.includes(e)},testMode:{type:Boolean,default:!1}},emits:["input","update:modelValue","char-limit-exceeded"],setup(e,{emit:t}){const r=e,o=D(""),i=D(!1),n=D(!1),s=D(!1),a=D(null),{stripRequiredLabel:l}=Ie(),p=Te(),f=Qe(),u=k(()=>(f==null?void 0:f.disabled)!==void 0&&String(f==null?void 0:f.disabled)!=="false"),h=k(()=>(f==null?void 0:f.readonly)!==void 0&&String(f==null?void 0:f.readonly)!=="false"),d=k(()=>(f==null?void 0:f.required)!==void 0&&String(f==null?void 0:f.required)!=="false"),c=k(()=>f.id?String(f.id):r.testMode?"test-input-id-1234":lt()),g=k(()=>l(r.label,d.value)),P=k(()=>{var v,b;return!!((v=r.labelAttributes)!=null&&v.help||(b=r.labelAttributes)!=null&&b.info||p["label-tooltip"])}),C=k({get(){return r.modelValue},set(v){U({target:{value:v}})}}),E=k(()=>{const v={...f};return delete v.class,delete v.input,delete v.onInput,v}),w=k(()=>{var ve,me;const v=((ve=o.value)==null?void 0:ve.toString().length)||0,b=((me=r.modelValue)==null?void 0:me.toString().length)||0;let z=v;return!i.value&&b&&(z=b),!!r.characterLimit&&z>r.characterLimit}),K=k(()=>w.value?i.value?`${o.value.toString().length} / ${r.characterLimit}`:`${r.modelValue.toString().length} / ${r.characterLimit}`:""),x=k(()=>!!f["onIcon:click"]);Ee(w,(v,b)=>{v!==b&&t("char-limit-exceeded",{value:o.value,length:o.value.length,characterLimit:r.characterLimit,limitExceeded:v})}),Ee(C,(v,b)=>{v!==b&&U({target:{value:v}})});const U=v=>{var z;const b=JSON.parse(JSON.stringify((z=v==null?void 0:v.target)==null?void 0:z.value));Ye(b)},Ye=v=>{o.value=v,i.value=!0,t("input",v),t("update:modelValue",v)},_=()=>o.value||i.value?o.value:r.modelValue,he=v=>{if(x.value){const b=f["onIcon:click"];typeof b=="function"&&b(v)}};return _e(()=>{a.value&&x.value&&(a.value.role="button")}),(v,b)=>(m(),y("div",{class:I(["k-input-wrapper",[v.$attrs.class,{"input-error":w.value||e.hasError||String(v.$attrs.class||"").includes("input-error")}]])},[e.label&&e.overlayLabel?(m(),y("div",{key:0,class:I(`k-input-label-wrapper-${e.size}`)},[T("div",br,[T("label",A(e.labelAttributes,{class:{focused:n.value,hovered:s.value,disabled:u.value,readonly:h.value},for:c.value}),[T("span",null,L(g.value),1),d.value?(m(),y("span",wr,"*")):S("",!0)],16,yr),T("input",A(E.value,{id:c.value,"aria-invalid":e.hasError||w.value?"true":void 0,class:["form-control k-input",{[`k-input-${e.size}`]:e.size,[`has-icon icon-${e.iconPosition}`]:v.$slots.icon}],value:_(),onBlur:b[0]||(b[0]=()=>n.value=!1),onFocus:b[1]||(b[1]=()=>n.value=!0),onInput:U,onMouseenter:b[2]||(b[2]=()=>s.value=!0),onMouseleave:b[3]||(b[3]=()=>s.value=!1)}),null,16,Er)]),w.value||e.hasError?(m(),y("p",{key:0,class:I(["has-error",{"over-char-limit":w.value}])},L(K.value||e.errorMessage),3)):S("",!0)],2)):e.label?(m(),y("div",{key:1,class:I(`k-input-label-wrapper-${e.size}`)},[le(gr,A({for:c.value},e.labelAttributes,{required:d.value}),et({default:B(()=>[F(L(g.value)+" ",1)]),_:2},[P.value?{name:"tooltip",fn:B(()=>[O(v.$slots,"label-tooltip",{},void 0,!0)]),key:"0"}:void 0]),1040,["for","required"]),T("input",A(E.value,{id:c.value,"aria-invalid":e.hasError||w.value?"true":void 0,class:["form-control k-input",{[`k-input-${e.size}`]:e.size,[`has-icon icon-${e.iconPosition}`]:v.$slots.icon}],value:_(),onInput:U}),null,16,Sr),w.value||e.hasError?(m(),y("p",{key:0,class:I(["has-error",{"over-char-limit":w.value}])},L(K.value||e.errorMessage),3)):S("",!0)],2)):(m(),y("input",A({key:2},E.value,{"aria-invalid":e.hasError||w.value?"true":void 0,class:["form-control k-input",{[`k-input-${e.size}`]:e.size,[`has-icon icon-${e.iconPosition}`]:v.$slots.icon}],value:_(),onInput:U}),null,16,Or)),(w.value||e.hasError)&&!e.label?(m(),y("p",{key:3,class:I(["has-error",{"over-char-limit":w.value}])},L(K.value||e.errorMessage),3)):S("",!0),e.help?(m(),y("p",kr,L(e.help),1)):S("",!0),v.$slots.icon?(m(),y("div",{key:5,ref_key:"icon",ref:a,class:I(["input-icon",{clickable:x.value}]),tabindex:x.value?0:-1,onClick:he,onKeyup:oe(he,["enter"])},[O(v.$slots,"icon",{},void 0,!0)],42,$r)):S("",!0)],2))}}),Mr=ae(Lr,[["__scopeId","data-v-356d9995"]]);export{gr as K,cr as _,pr as a,Mr as b,lt as v};
